---

- name: "Test roles using Travis CI"
  hosts:
    - "travis_test"
  vars_files:
    - "environments/defaults.yml"
  roles:
    - role: "packages"
      tags: "packages"

    - role: "user"
      tags: "user"

    - role: "gnupg"
      tags: "gpg"

    - role: "ssh"
      tags: "ssh"

    - role: "zsh"
      tags: "zsh"

    - role: "i3"
      tags: "i3"
      when: "monitors|default(False, True)"

    - role: "polybar"
      tags: "polybar"
      when: "monitors|default(False, True)"

    - role: "dunst"
      tags: "dunst"
      when: "monitors|default(False, True)"

    - role: "xorg"
      tags: "xorg"
      when: "monitors|default(False, True)"

    - role: "vim"
      tags: "vim"
