# {{ ansible_managed }}

[NetDev]
Name=wg0
Kind=wireguard

[WireGuard]
ListenPort=51820
PrivateKey={{ wireguard.private_key }}

{% for peer in wireguard.peers %}
[WireGuardPeer]
PublicKey={{ peer.public_key }}
PresharedKey={{ peer.pre_shared_key }}
AllowedIPs={{ peer.ipv4 }}/32
{% endfor %}
