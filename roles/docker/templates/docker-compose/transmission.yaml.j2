---

# {{ ansible_managed }}
# vi: ft=yaml

services:
    transmission-openvpn:
        image: "haugene/transmission-openvpn"
        restart: "unless-stopped"
        cap_add:
            - "NET_ADMIN"
        volumes:
            - "./config/:/config/transmission-home/"
            - "/srv/share/transmission/:/data/"
        ports:
            - "9091:9091"
        environment:
            TZ: "Europe/Amsterdam"
            OPENVPN_PROVIDER: "PIA"
            OPENVPN_CONFIG: "netherlands"
            OPENVPN_USERNAME: "{{ pia_credentials.username }}"
            OPENVPN_PASSWORD: "{{ pia_credentials.password }}"
            LOCAL_NETWORK: "10.0.0.0/16"
            TRANSMISSION_HOME: "/config/transmission-home/"
            PUID: "{{ users.transmission.uid }}"
            PGID: "{{ users.transmission.gid }}"
